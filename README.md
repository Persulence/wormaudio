# WormAudio

WormAudio is a game audio middleware .

It allows adaptive sounds to be designed in a graphical editor and distributed in a format that can be deployed to multiple game engines.

> [!CAUTION]
> WormAudio is currently a proof of concept and is not ready for substantial use. 
> Future versions will not be backwards compatible.

> [!NOTE]
> WormAudio currently only supports Windows and Linux on x86_64 architectures.

## Features

- Editor GUI 
- Adaptive sound definition using visually represented state machines
- Many options for state transition logic, such as quantisation and random.
- Global parameters
- Simple automation
- Stereo spatial audio with multiple attenuation functions


- Java API
- GDScript API

## Downloads 

<https://github.com/Persulence/wormaudio/releases>

## Videos

[![WormAudio 0.1 Playlist](https://img.youtube.com/vi/BaaW4TYNxQs/0.jpg)](https://www.youtube.com/playlist?list=PLWuxGrHLmVCiRlxeiQdXLXQ6MhWES7Hx-)

## Structure

WormAudio consists of a runtime library, a GUI editor and example APIs for Java and GDScript.

## Building

This project consists of multiple parts with different building processes.

For convenience, some top-level targets are provided:

- `build_editor`
- `build_swig` (disabled by default, use `-DWORMAUDIO_BUILD_SWIG=ON`)
- `build_godot`

### wormaudio

This is currently configured as a static library and will be built automatically by the subprojects that link to it.

This component also optionally generates a Java API and an accompanying shared library with SWIG.

- API files generated by SWIG are found in <build_folder>/api and must be copied into src/main/java/com/wormaudio/wormaudio/generated.
- The wormaudio-java shared library is found in <build_folder>/bin.

### wormaudio-editor

This is the GUI editor component. There is a top-level cmake target for building the editor (`build_editor`)

#### Linux Dependencies

Dependencies on a debian-based system (Some may be missing):

```
swig
alsa libasound2-dev
xorg libx11-dev x11-xserver-utils libxrandr-dev libxinerama-dev libxcursor-dev libxcomposite-dev libxext-dev libxrender-dev 
libglu1-mesa-dev mesa-common-dev
libfreetype-dev libfreetype6 libfreetype6-dev libfontconfig1-dev
```

#### Build and Install

The following commands should work on POSIX shells and Powershell.

```
mkdir build && mkdir install && cd build
cmake -DCMAKE_BUILD_TYPE=Release --install-prefix=../install ..
cmake --build . --target build_editor
cmake install .
```

> ![NOTE]
> Move the `install` directory to wherever you wish. Installing to system directories is not currently supported.
> 
### wormaudio-godot

This is a [GDExtension](https://docs.godotengine.org/en/stable/tutorials/scripting/gdextension/index.html) that provides GDScript bindings for WormAudio.

There is a top-level cmake target for this component (`build_godot`).

#### Installing

To install, unzip the extension and place it in your Godot project's `addons` folder.

In the Godot editor, from the Project menu open Project Settings and navigate to the Plugins tab. Find wormaudio-godot in the list of plugins and check the Enabled box.

### wormaudio-java 

This contains Java API. It is a Gradle project and does not have a top-level cmake target.

Platform-specific shared libraries must be moved together into `src/main/resources/native`. The current build configuration does not support cross-compilation, so libraries must be compiled on the target operating system and moved into the java project manually.

Build wormaudio with `-DWORMAUDIO_JAVA_PATH=<path_to_wormaudio-java>` to automatically copy the API files and the shared library.

## Planned Features

### Licensing Goals

I intend to distribute WormAudio under AGPLv3 with dynamic linking exceptions for major game engines such as Unity and Unreal. This will allow FOSS projects to use WormAudio without restriction and for proprietary projects to use it via a custom commercial license. This will be possible when the JUCE dependency is removed from the runtime library.

### Other

- Removal of JUCE from the runtime.
- Add level meters.
- Add buses.
- Add a mechanism for live mixing.
- Add non-global parameters.
- Enum type parameters.
- Configurable transition crossfades.
- Automatic click removal.
- Migrate the editor GUI from JUCE widgets to Qt.
- Automatic compression of sound resources for distribution.
- More stereo imaging algorithms.
- Inline effects (algorithmic reverb, delay, distortion, etc).
- Support speaker configurations other than stereo.
- Move wormaudio-godot and wormaudio-java into separate repositories that can be built independently.
- Rebrand. Worms are not the most marketable animals.
